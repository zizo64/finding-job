{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Mojtaba Salahshoor/Desktop/final project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Mojtaba Salahshoor/Desktop/final project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Mojtaba Salahshoor\\\\Desktop\\\\final project\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";export var productData=function productData(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://5.161.141.215:5000/api/products/\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// localStorage.setItem(\"products\", JSON.stringify(data));\ndispatch({type:\"get_product_succes\",payload:_toConsumableArray(data)});_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);dispatch({type:\"get_product_failed\",payload:_context.t0.message});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var eachproductData=function eachproductData(params){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://5.161.141.215:5000/api/products/\".concat(params.id));case 3:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;dispatch({type:\"get_eachproduct_succes\",payload:data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch({type:\"get_eachproduct_failed\",payload:_context2.t0.message});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var newUser=function newUser(name,email,password){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post(\"http://5.161.141.215:5000/api/users\",{name:name,email:email,password:password});case 3:_yield$axios$post=_context3.sent;data=_yield$axios$post.data;localStorage.setItem(\"users\",JSON.stringify(data));dispatch({type:\"post_newuser_succes\",payload:data});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);dispatch({type:\"post_newuser_failed\",payload:_context3.t0.message});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var loginUser=function loginUser(email,password){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.post(\"http://5.161.141.215:5000/api/users/login\",{email:email,password:password});case 3:_yield$axios$post2=_context4.sent;data=_yield$axios$post2.data;localStorage.setItem(\"users\",JSON.stringify(data));dispatch({type:\"post_loginuser_succes\",payload:data});_context4.next=12;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);dispatch({type:\"post_loginuser_failed\",payload:_context4.t0.message});case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};export var userData=function userData(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var token,_yield$axios$get3,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:token=getState().user.user.token;_context5.prev=1;_context5.next=4;return axios.get(\"http://5.161.141.215:5000/api/users/profile\",{headers:{'Content-Type':\"application/json\",Authorization:\"Bearer \".concat(token)}});case 4:_yield$axios$get3=_context5.sent;data=_yield$axios$get3.data;localStorage.setItem(\"users\",JSON.stringify(data));dispatch({type:\"get_userdata_succes\",payload:data});_context5.next=13;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](1);dispatch({type:\"get_userdata_failed\",payload:_context5.t0.message});case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[1,10]]);}));return function(_x9,_x10){return _ref5.apply(this,arguments);};}();};export var changeuserData=function changeuserData(password){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var token,name,email,_yield$axios$put,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:token=getState().user.user.token;name=getState().user.user.name;email=getState().user.user.email;_context6.prev=3;_context6.next=6;return axios.put(\"http://5.161.141.215:5000/api/users/profile\",{name:name,email:email,password:password},{headers:{'Content-Type':\"application/json\",Authorization:\"Bearer \".concat(token)}});case 6:_yield$axios$put=_context6.sent;data=_yield$axios$put.data;localStorage.setItem(\"users\",JSON.stringify(data));dispatch({type:\"put_changeuserdata_succes\",payload:data});_context6.next=15;break;case 12:_context6.prev=12;_context6.t0=_context6[\"catch\"](3);dispatch({type:\"put_changeuserdata_failed\",payload:_context6.t0.message});case 15:case\"end\":return _context6.stop();}}},_callee6,null,[[3,12]]);}));return function(_x11,_x12){return _ref6.apply(this,arguments);};}();};export var newOrder=function newOrder(address,city,postalcode,phone){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch,getState){var totalPrice,basket,token,_yield$axios$post3,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:totalPrice=getState().price;basket=getState().basket;token=getState().user.user.token;_context7.prev=3;_context7.next=6;return axios.post(\"http://5.161.141.215:5000/api/orders\",{orderItems:basket,shippingAddress:{address:address,city:city,postalCode:postalcode,phone:phone},paymentMethod:\"cart\",itemsPrice:totalPrice,shippingPrice:\"0.00\",totalPrice:totalPrice},{headers:{'Content-Type':\"application/json\",Authorization:\"Bearer \".concat(token)}});case 6:_yield$axios$post3=_context7.sent;data=_yield$axios$post3.data;dispatch({type:\"post_neworder_succes\",payload:data});_context7.next=14;break;case 11:_context7.prev=11;_context7.t0=_context7[\"catch\"](3);dispatch({type:\"post_neworder_failed\",payload:_context7.t0.message});case 14:case\"end\":return _context7.stop();}}},_callee7,null,[[3,11]]);}));return function(_x13,_x14){return _ref7.apply(this,arguments);};}();};export var myOrder=function myOrder(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch,getState){var token,_yield$axios$get4,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:token=getState().user.user.token;_context8.prev=1;_context8.next=4;return axios.get(\"http://5.161.141.215:5000/api/orders/myorders\",{headers:{'Content-Type':\"application/json\",Authorization:\"Bearer \".concat(token)}});case 4:_yield$axios$get4=_context8.sent;data=_yield$axios$get4.data;dispatch({type:\"get_myorder_succes\",payload:data});_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](1);dispatch({type:\"get_myorder_failed\",payload:_context8.t0.message});case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[1,9]]);}));return function(_x15,_x16){return _ref8.apply(this,arguments);};}();};export var eachorderData=function eachorderData(params){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch,getState){var token,_yield$axios$get5,data;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:token=getState().user.user.token;_context9.prev=1;_context9.next=4;return axios.get(\"http://5.161.141.215:5000/api/orders/\".concat(params.id),{headers:{'Content-Type':\"application/json\",Authorization:\"Bearer \".concat(token)}});case 4:_yield$axios$get5=_context9.sent;data=_yield$axios$get5.data;dispatch({type:\"get_eachorder_succes\",payload:data});_context9.next=12;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](1);dispatch({type:\"get_eachorder_failed\",payload:_context9.t0.message});case 12:case\"end\":return _context9.stop();}}},_callee9,null,[[1,9]]);}));return function(_x17,_x18){return _ref9.apply(this,arguments);};}();};export var basketAction=function basketAction(basket){return function(dispatch,getState){var name=getState().eachproduct.name;var price=getState().eachproduct.price;var countInStock=getState().eachproduct.countInStock-1;var qty=1;var product=getState().eachproduct._id;var image=getState().eachproduct.image;var help={name:name,price:price,countInStock:countInStock,product:product,image:image,qty:qty};dispatch({type:\"basket\",payload:[].concat(_toConsumableArray(basket),[help])});};};export var getNumber=function getNumber(){return function(dispatch,getState){var x=getState().basket.length;var num=0;for(var i=0;i<x;i++){var y=getState().basket[i].qty;num=num+y;};dispatch({type:\"totalNumber\",payload:num});};};export var getPrice=function getPrice(){return function(dispatch,getState){var x=getState().basket.length;var price=0;for(var i=0;i<x;i++){var y=getState().basket[i].price;var z=getState().basket[i].qty;price=price+y*z;};dispatch({type:\"totalprice\",payload:price});};};export var deleteItem=function deleteItem(index){return function(dispatch,getState){var help=getState().basket;help.splice(index,1);dispatch({type:\"deleteItem\",payload:_toConsumableArray(help)});};};export var plusItem=function plusItem(basket,index){return function(dispatch,getState){basket[index].qty=basket[index].qty+1;dispatch({type:\"plus\",payload:_toConsumableArray(basket)});};};export var minusItem=function minusItem(basket,index){return function(dispatch,getState){basket[index].qty=basket[index].qty-1;dispatch({type:\"minus\",payload:_toConsumableArray(basket)});};};export var availableItem=function availableItem(basket,index){return function(dispatch,getState){basket[index].countInStock=getState().eachproduct.countInStock-basket[index].qty+1;dispatch({type:\"available\",payload:_toConsumableArray(basket)});};};export var addressAction=function addressAction(address,city,postalcode,phone){return function(dispatch,getState){dispatch({type:\"address\",payload:{address:address,city:city,postalcode:postalcode,phone:phone}});};};export var emptyBasket=function emptyBasket(){return function(dispatch,getState){dispatch({type:\"emptybasket\",payload:[]});};};export var emptyNumber=function emptyNumber(){return function(dispatch,getState){dispatch({type:\"emptynumber\",payload:0});};};export var emptyPrice=function emptyPrice(){return function(dispatch,getState){dispatch({type:\"emptyprice\",payload:0});};};export var logoutUser=function logoutUser(){return function(dispatch,getState){dispatch({type:\"logout-user\",payload:{}});};};","map":{"version":3,"sources":["C:/Users/Mojtaba Salahshoor/Desktop/final project/src/action.js"],"names":["axios","productData","dispatch","getState","get","data","type","payload","console","log","message","eachproductData","params","id","newUser","name","email","password","post","localStorage","setItem","JSON","stringify","loginUser","userData","token","user","headers","Authorization","changeuserData","put","newOrder","address","city","postalcode","phone","totalPrice","price","basket","orderItems","shippingAddress","postalCode","paymentMethod","itemsPrice","shippingPrice","myOrder","eachorderData","basketAction","eachproduct","countInStock","qty","product","_id","image","help","getNumber","x","length","num","i","y","getPrice","z","deleteItem","index","splice","plusItem","minusItem","availableItem","addressAction","emptyBasket","emptyNumber","emptyPrice","logoutUser"],"mappings":"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","sourcesContent":["\r\nimport axios from \"axios\";\r\nexport const productData = () => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      \"http://5.161.141.215:5000/api/products/\"\r\n    );\r\n    // localStorage.setItem(\"products\", JSON.stringify(data));\r\n    dispatch({ type: \"get_product_succes\", payload: [...data] });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    dispatch({ type: \"get_product_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const eachproductData = (params) => async (dispatch, getState) => {\r\n  try {\r\n    const {data}  = await axios.get(\r\n      `http://5.161.141.215:5000/api/products/${params.id}`\r\n    );\r\n    dispatch({ type: \"get_eachproduct_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"get_eachproduct_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const newUser =(name,email, password)  => async (dispatch, getState) => {\r\n  try {\r\n    const {data}  =await axios.post(\r\n    \r\n    `http://5.161.141.215:5000/api/users`,{name:name,email:email,password:password}\r\n    )\r\n    localStorage.setItem(\"users\", JSON.stringify(data));\r\n    dispatch({ type: \"post_newuser_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"post_newuser_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const loginUser =(email, password)  => async (dispatch, getState) => {\r\n  try {\r\n    const {data}  =await axios.post(\r\n    \r\n    `http://5.161.141.215:5000/api/users/login`,{email:email,password:password}\r\n    )\r\n    localStorage.setItem(\"users\", JSON.stringify(data));\r\n    dispatch({ type: \"post_loginuser_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"post_loginuser_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const userData =()  => async (dispatch, getState) => {\r\n  const token= getState().user.user.token\r\n   try {\r\n    const {data}  =await axios.get(\r\n       `http://5.161.141.215:5000/api/users/profile`,{\r\n       headers:{\r\n         'Content-Type' :\"application/json\",\r\n         Authorization:`Bearer ${token}`\r\n       }}\r\n    )\r\n    localStorage.setItem(\"users\", JSON.stringify(data));\r\n    dispatch({ type: \"get_userdata_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"get_userdata_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const changeuserData =(password)  => async (dispatch, getState) => {\r\n  const token= getState().user.user.token\r\n  const name= getState().user.user.name\r\n  const email=getState().user.user.email\r\n  try {\r\n    const {data}  =await axios.put(\r\n       `http://5.161.141.215:5000/api/users/profile`,{name:name,email:email,password:password},\r\n       {\r\n       headers:{\r\n         'Content-Type' :\"application/json\",\r\n         Authorization:`Bearer ${token}`\r\n       }}\r\n    )\r\n    localStorage.setItem(\"users\", JSON.stringify(data));\r\n    dispatch({ type: \"put_changeuserdata_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"put_changeuserdata_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const newOrder =(address,city,postalcode,phone)  => async (dispatch, getState) => {\r\nconst totalPrice= getState().price\r\nconst basket= getState().basket\r\nconst token= getState().user.user.token\r\n try {\r\n    const {data}  =await axios.post(\r\n   \"http://5.161.141.215:5000/api/orders\",{orderItems:basket,\r\n    shippingAddress:{address:address,city:city,postalCode:postalcode,phone:phone},\r\n    paymentMethod:\"cart\",\r\n    itemsPrice: totalPrice,\r\n    shippingPrice:\"0.00\",\r\n    totalPrice: totalPrice,\r\n    },\r\n    {headers:{\r\n      'Content-Type' :\"application/json\",\r\n      Authorization:`Bearer ${token}`\r\n    }}\r\n    )\r\n    dispatch({ type: \"post_neworder_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"post_neworder_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const myOrder =()  => async (dispatch, getState) => {\r\n  const token= getState().user.user.token\r\n   try {\r\n      const {data}  =await axios.get(\r\n     \"http://5.161.141.215:5000/api/orders/myorders\",\r\n      {headers:{\r\n        'Content-Type' :\"application/json\",\r\n        Authorization:`Bearer ${token}`\r\n      }}\r\n      )\r\n      dispatch({ type: \"get_myorder_succes\", payload: data});\r\n    } \r\n    catch (error) {\r\n      dispatch({ type: \"get_myorder_failed\", payload: error.message });\r\n    }\r\n  };\r\n  export const eachorderData = (params) => async (dispatch, getState) => {\r\n    const token= getState().user.user.token\r\n    try {\r\n      const {data}  = await axios.get(\r\n        `http://5.161.141.215:5000/api/orders/${params.id}`,\r\n        {headers:{\r\n          'Content-Type' :\"application/json\",\r\n          Authorization:`Bearer ${token}`\r\n        }}\r\n      );\r\n      dispatch({ type: \"get_eachorder_succes\", payload: data});\r\n    } \r\n    catch (error) {\r\n      dispatch({ type: \"get_eachorder_failed\", payload: error.message });\r\n    }\r\n  };\r\nexport const basketAction = (basket) => (dispatch, getState) => {\r\n  const name= getState().eachproduct.name\r\n  const price= getState().eachproduct.price\r\n  const countInStock= (getState().eachproduct.countInStock)-1\r\n  const qty = 1\r\n  const product= getState().eachproduct._id\r\n  const image= getState().eachproduct.image\r\n  const help={name,price,countInStock,product,image,qty}\r\n  dispatch({ type: \"basket\", payload: [...basket,help] });\r\n};\r\nexport const getNumber = () => (dispatch, getState) => {\r\n  const x=getState().basket.length\r\n  var num=0;\r\n  for(let i=0;i<x;i++){\r\n  var y = getState().basket[i].qty\r\n  num = num+y\r\n  };\r\n  dispatch({ type: \"totalNumber\", payload: num });\r\n};\r\nexport const getPrice = () => (dispatch, getState) => {\r\n  const x=getState().basket.length\r\n  var price=0;\r\n  for(let i=0;i<x;i++){\r\n  var y = getState().basket[i].price\r\n  var z = getState().basket[i].qty\r\n  price = price+y*z\r\n  };\r\n  dispatch({ type: \"totalprice\", payload: price });\r\n};\r\n\r\nexport const deleteItem = (index) => (dispatch, getState) => {\r\n  const help= getState().basket\r\n  help.splice(index,1)\r\n  dispatch({ type: \"deleteItem\", payload: [...help] });\r\n};\r\nexport const plusItem = (basket,index) => (dispatch, getState) => {\r\n  basket[index].qty=basket[index].qty+1\r\n  dispatch({ type: \"plus\", payload: [...basket] });\r\n};\r\nexport const minusItem = (basket,index) => (dispatch, getState) => {\r\n  basket[index].qty=basket[index].qty-1\r\n  dispatch({ type: \"minus\", payload: [...basket] });\r\n};\r\nexport const availableItem = (basket,index) => (dispatch, getState) => {\r\n  basket[index].countInStock = (getState().eachproduct.countInStock) -(basket[index].qty)+1\r\n  dispatch({ type: \"available\", payload: [...basket] });\r\n};\r\nexport const addressAction = (address,city,postalcode,phone) => (dispatch, getState) => {\r\n  dispatch({ type: \"address\", payload: {address,city,postalcode,phone} });\r\n};\r\nexport const emptyBasket = () => (dispatch, getState) => {\r\n  dispatch({ type: \"emptybasket\", payload: [] });\r\n};\r\nexport const emptyNumber = () => (dispatch, getState) => {\r\n  dispatch({ type: \"emptynumber\", payload: 0 });\r\n};\r\nexport const emptyPrice = () => (dispatch, getState) => {\r\n  dispatch({ type: \"emptyprice\", payload: 0 });\r\n};\r\nexport const logoutUser = () => (dispatch, getState) => {\r\n  dispatch({ type: \"logout-user\", payload: {} });\r\n};"]},"metadata":{},"sourceType":"module"}