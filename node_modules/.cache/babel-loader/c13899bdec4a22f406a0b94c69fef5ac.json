{"ast":null,"code":"import axios from \"axios\";\nexport const productData = () => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(\"http://95.216.184.20:9000/api/products/\");\n    localStorage.setItem(\"produsts\", JSON.stringify(data));\n    dispatch({\n      type: \"get_product_succes\",\n      payload: [...data]\n    });\n  } catch (error) {\n    console.log(error.message);\n    dispatch({\n      type: \"get_product_failed\",\n      payload: error.message\n    });\n  }\n};\nexport const eachproductData = params => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.get(`http://95.216.184.20:9000/api/products/${params.id}`);\n    console.log(data);\n    dispatch({\n      type: \"get_eachproduct_succes\",\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"get_eachproduct_failed\",\n      payload: error.message\n    });\n  }\n};\nexport const newUser = () => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.post(`http://95.216.184.20:9000/api/users`, {\n      name: \"zahra\",\n      email: \"z.firooz@gmail.com\",\n      password: \"mz27754\"\n    });\n    console.log(data);\n    dispatch({\n      type: \"post_newuser_succes\",\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"post_newuser_failed\",\n      payload: error.message\n    });\n  }\n};\nexport const loginUser = () => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.post(`http://95.216.184.20:9000/api/users/login`, {\n      email: \"myn.yaserinejad@gmail.com\",\n      password: \"mz27754\"\n    });\n    console.log(data);\n    dispatch({\n      type: \"post_loginuser_succes\",\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"post_loginuser_failed\",\n      payload: error.message\n    });\n  }\n}; // export const userData =()  => async (dispatch, getState) => {\n//   try {\n//     const {data}  =await axios.get(\n//     ?\n//     )\n//     console.log(data);\n//     dispatch({ type: \"get_userdata_succes\", payload: data});\n//   } \n//   catch (error) {\n//     dispatch({ type: \"get_userdata_failed\", payload: error.message });\n//   }\n// };\n// const api = 'your api'; \n// const token = JSON.parse(sessionStorage.getItem('data'));\n// const token = user.data.id; /*take only token and save in token variable*/\n// axios.get(api , { headers: {\"Authorization\" : `Bearer ${token}`} })\n// .then(res => {\n// console.log(res.data);\n// .catch((error) => {\n//   console.log(error)\n// });\n\nexport const basketAction = basket => (dispatch, getState) => {\n  const x = getState().eachproduct.name;\n  const y = getState().eachproduct.price;\n  const e = getState().eachproduct.countInStock;\n  const z = 1;\n  const help = {\n    x,\n    y,\n    z,\n    e\n  };\n  console.log(help);\n  dispatch({\n    type: \"basket\",\n    payload: [...basket, help]\n  });\n};\nexport const getNumber = () => (dispatch, getState) => {\n  const x = getState().basket.length;\n  var num = 0;\n\n  for (let i = 0; i < x; i++) {\n    var y = getState().basket[i].z;\n    num = num + y;\n  }\n\n  ;\n  console.log(num);\n  dispatch({\n    type: \"totalNumber\",\n    payload: num\n  });\n};\nexport const deleteItem = index => (dispatch, getState) => {\n  const help = getState().basket;\n  console.log(help);\n  help.splice(index, 1);\n  dispatch({\n    type: \"deleteItem\",\n    payload: [...help]\n  });\n};\nexport const plusItem = () => (dispatch, getState) => {\n  const help = getState().basket;\n  console.log(help); // help.splice(index,1)\n\n  dispatch({\n    type: \"deleteItem\",\n    payload: [...help]\n  });\n};","map":{"version":3,"sources":["C:/Users/Mojtaba Salahshoor/Desktop/final project/src/action.js"],"names":["axios","productData","dispatch","getState","data","get","localStorage","setItem","JSON","stringify","type","payload","error","console","log","message","eachproductData","params","id","newUser","post","name","email","password","loginUser","basketAction","basket","x","eachproduct","y","price","e","countInStock","z","help","getNumber","length","num","i","deleteItem","index","splice","plusItem"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nexport const productData = () => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      \"http://95.216.184.20:9000/api/products/\"\r\n    );\r\n    localStorage.setItem(\"produsts\", JSON.stringify(data));\r\n    dispatch({ type: \"get_product_succes\", payload: [...data] });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    dispatch({ type: \"get_product_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const eachproductData = (params) => async (dispatch, getState) => {\r\n  try {\r\n    const {data}  = await axios.get(\r\n      `http://95.216.184.20:9000/api/products/${params.id}`\r\n    );\r\n    console.log(data)\r\n   \r\n    dispatch({ type: \"get_eachproduct_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"get_eachproduct_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const newUser =()  => async (dispatch, getState) => {\r\n  try {\r\n    const {data}  =await axios.post(\r\n    \r\n    `http://95.216.184.20:9000/api/users`,{name:\"zahra\",email:\"z.firooz@gmail.com\",password:\"mz27754\"}\r\n    )\r\n    console.log(data);\r\n    dispatch({ type: \"post_newuser_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"post_newuser_failed\", payload: error.message });\r\n  }\r\n};\r\nexport const loginUser =()  => async (dispatch, getState) => {\r\n  try {\r\n    const {data}  =await axios.post(\r\n    \r\n    `http://95.216.184.20:9000/api/users/login`,{email:\"myn.yaserinejad@gmail.com\",password:\"mz27754\"}\r\n    )\r\n    console.log(data);\r\n    dispatch({ type: \"post_loginuser_succes\", payload: data});\r\n  } \r\n  catch (error) {\r\n    dispatch({ type: \"post_loginuser_failed\", payload: error.message });\r\n  }\r\n};\r\n// export const userData =()  => async (dispatch, getState) => {\r\n//   try {\r\n//     const {data}  =await axios.get(\r\n    \r\n//     ?\r\n//     )\r\n//     console.log(data);\r\n//     dispatch({ type: \"get_userdata_succes\", payload: data});\r\n//   } \r\n//   catch (error) {\r\n//     dispatch({ type: \"get_userdata_failed\", payload: error.message });\r\n//   }\r\n// };\r\n// const api = 'your api'; \r\n// const token = JSON.parse(sessionStorage.getItem('data'));\r\n// const token = user.data.id; /*take only token and save in token variable*/\r\n// axios.get(api , { headers: {\"Authorization\" : `Bearer ${token}`} })\r\n// .then(res => {\r\n// console.log(res.data);\r\n// .catch((error) => {\r\n//   console.log(error)\r\n// });\r\nexport const basketAction = (basket) => (dispatch, getState) => {\r\n  const x= getState().eachproduct.name\r\n  const y= getState().eachproduct.price\r\n  const e= getState().eachproduct.countInStock\r\n  const z=1\r\n  const help={x,y,z,e}\r\n  console.log(help)\r\n  dispatch({ type: \"basket\", payload: [...basket,help] });\r\n};\r\nexport const getNumber = () => (dispatch, getState) => {\r\n  const x=getState().basket.length\r\n  var num=0;\r\n  for(let i=0;i<x;i++){\r\n  var y = getState().basket[i].z\r\n  num = num+y\r\n  };\r\n  console.log(num)\r\n  dispatch({ type: \"totalNumber\", payload: num });\r\n};\r\n\r\nexport const deleteItem = (index) => (dispatch, getState) => {\r\n  const help= getState().basket\r\n  console.log(help)\r\n  help.splice(index,1)\r\n  dispatch({ type: \"deleteItem\", payload: [...help] });\r\n};\r\nexport const plusItem = () => (dispatch, getState) => {\r\n  const help= getState().basket\r\n  console.log(help)\r\n  // help.splice(index,1)\r\n  dispatch({ type: \"deleteItem\", payload: [...help] });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}