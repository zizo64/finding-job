{"ast":null,"code":"import React from'react';import\"./bootstrap.css\";import{Table}from\"react-bootstrap\";import{useDispatch,useSelector}from'react-redux';import{getNumber}from'./action';import{getPrice}from'./action';import{deleteItem}from'./action';import{plusItem}from'./action';import{availableItem}from'./action';import{minusItem}from'./action';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Basket=function Basket(){var basket=useSelector(function(state){return state.basket;});var price=useSelector(function(state){return state.price;});var _useSelector=useSelector(function(state){return state.user;}),user=_useSelector.user;var number=useSelector(function(state){return state.number;});var dispatch=useDispatch();var navigate=useNavigate();localStorage.setItem(\"basket\",JSON.stringify(basket));localStorage.setItem(\"price\",JSON.stringify(price));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Count In Stock \"}),/*#__PURE__*/_jsx(\"th\",{children:\" Image\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:basket.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\"},children:[\" \",index+1,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[item.price,\" $\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[item.countInStock>0&&/*#__PURE__*/_jsx(\"button\",{style:{padding:\"0 4px\"},onClick:function onClick(){dispatch(plusItem(basket,index));dispatch(availableItem(basket,index));dispatch(getNumber());dispatch(getPrice());},children:\"+\"}),item.qty>1&&/*#__PURE__*/_jsx(\"button\",{style:{padding:\"0 4px\"},onClick:function onClick(){dispatch(minusItem(basket,index));dispatch(availableItem(basket,index));dispatch(getNumber());dispatch(getPrice());},children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{style:{padding:\"0 4px\"},onClick:function onClick(){dispatch(deleteItem(index));dispatch(getNumber());dispatch(getPrice());// dispatch(availableItem(basket,index))\n},children:\" X \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" QTY: \",item.qty]})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",item.countInStock]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:item.image,style:{height:\"50px\"}})]})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr\",padding:\"20px\"},children:/*#__PURE__*/_jsxs(\"span\",{style:{textAlign:\"center\",margin:\"20px 0\",padding:\"20px\",backgroundColor:\"gray\",border:\"1px solid black\",fontStyle:\"italic\",fontWeight:\"bold\"},children:[\"   Total price is \",price.toFixed(2),\" $ \"]})}),number==0?/*#__PURE__*/_jsx(\"p\",{style:{margin:\"5px 100px\",float:\"right\",fontStyle:\"italic\",fontWeight:\"bold\"},children:\" your basket is empty \"}):user.id?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){navigate(\"./adress\");},style:{margin:\"5px 100px\",float:\"right\"},children:\" next \"}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"./login\");},style:{margin:\"5px 100px\",float:\"right\"},children:\" login \"})]});};","map":{"version":3,"sources":["C:/Users/Mojtaba Salahshoor/Desktop/final project/src/Basket.js"],"names":["React","Table","useDispatch","useSelector","getNumber","getPrice","deleteItem","plusItem","availableItem","minusItem","useNavigate","Basket","basket","state","price","user","number","dispatch","navigate","localStorage","setItem","JSON","stringify","textAlign","map","item","index","name","countInStock","padding","qty","image","height","display","gridTemplateColumns","margin","backgroundColor","border","fontStyle","fontWeight","toFixed","float","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,OAAQC,WAAR,CAAoBC,WAApB,KAAuC,aAAvC,CACA,OAAQC,SAAR,KAAwB,UAAxB,CACA,OAAQC,QAAR,KAAuB,UAAvB,CACA,OAAQC,UAAR,KAAyB,UAAzB,CACA,OAAQC,QAAR,KAAuB,UAAvB,CACA,OAAQC,aAAR,KAA4B,UAA5B,CACA,OAAQC,SAAR,KAAwB,UAAxB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAGA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CAE1B,GAAMC,CAAAA,MAAM,CAAGT,WAAW,CAAC,SAACU,KAAD,QAAUA,CAAAA,KAAK,CAACD,MAAhB,EAAD,CAA1B,CACA,GAAME,CAAAA,KAAK,CAAGX,WAAW,CAAC,SAACU,KAAD,QAAUA,CAAAA,KAAK,CAACC,KAAhB,EAAD,CAAzB,CACA,iBAAcX,WAAW,CAAC,SAACU,KAAD,QAAUA,CAAAA,KAAK,CAACE,IAAhB,EAAD,CAAzB,CAAOA,IAAP,cAAOA,IAAP,CACA,GAAMC,CAAAA,MAAM,CAAGb,WAAW,CAAC,SAACU,KAAD,QAAUA,CAAAA,KAAK,CAACG,MAAhB,EAAD,CAA1B,CACA,GAAMC,CAAAA,QAAQ,CAACf,WAAW,EAA1B,CACA,GAAMgB,CAAAA,QAAQ,CAACR,WAAW,EAA1B,CAEAS,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+BC,IAAI,CAACC,SAAL,CAAeV,MAAf,CAA/B,EACAO,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeR,KAAf,CAA9B,EACA,mBACE,oCACA,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,wBACG,oCACE,mCACE,WAAI,KAAK,CAAE,CAACS,SAAS,CAAC,QAAX,CAAX,eADF,cAEE,4BAFF,cAGE,6BAHF,cAIE,gCAJF,cAKE,uCALF,cAME,8BANF,GADF,EADH,cAWE,uBACGX,MAAM,CAACY,GAAP,CAAW,SAACC,IAAD,CAAOC,KAAP,qBACZ,mCACG,YAAI,KAAK,CAAE,CAACH,SAAS,CAAC,QAAX,CAAX,eAAmCG,KAAK,CAAG,CAA3C,OADH,cAEG,oBAAKD,IAAI,CAACE,IAAV,EAFH,cAGG,sBAAKF,IAAI,CAACX,KAAV,QAHH,cAIG,iCACG,uBACKW,IAAI,CAACG,YAAL,CAAoB,CAApB,eAAyB,eAAQ,KAAK,CAAE,CAACC,OAAO,CAAC,OAAT,CAAf,CACxB,OAAO,CAAE,kBAAI,CAEXZ,QAAQ,CAACV,QAAQ,CAACK,MAAD,CAAQc,KAAR,CAAT,CAAR,CACAT,QAAQ,CAACT,aAAa,CAACI,MAAD,CAAQc,KAAR,CAAd,CAAR,CACAT,QAAQ,CAACb,SAAS,EAAV,CAAR,CACAa,QAAQ,CAACZ,QAAQ,EAAT,CAAR,CAEE,CARoB,eAD9B,CAaGoB,IAAI,CAACK,GAAL,CAAS,CAAT,eAAe,eAAQ,KAAK,CAAE,CAACD,OAAO,CAAC,OAAT,CAAf,CAChB,OAAO,CAAE,kBAAI,CAGXZ,QAAQ,CAACR,SAAS,CAACG,MAAD,CAAQc,KAAR,CAAV,CAAR,CACAT,QAAQ,CAACT,aAAa,CAACI,MAAD,CAAQc,KAAR,CAAd,CAAR,CACAT,QAAQ,CAACb,SAAS,EAAV,CAAR,CACAa,QAAQ,CAACZ,QAAQ,EAAT,CAAR,CACE,CARY,eAblB,cAwBA,eAAS,KAAK,CAAE,CAACwB,OAAO,CAAC,OAAT,CAAhB,CAAmC,OAAO,CAAE,kBAAI,CAC5CZ,QAAQ,CAACX,UAAU,CAACoB,KAAD,CAAX,CAAR,CACAT,QAAQ,CAACb,SAAS,EAAV,CAAR,CACAa,QAAQ,CAACZ,QAAQ,EAAT,CAAR,CACA;AACA,CALJ,iBAxBA,cA+BC,8BAAUoB,IAAI,CAACK,GAAf,GA/BD,GADH,EAJH,cAuCI,0BAAML,IAAI,CAACG,YAAX,GAvCJ,cAwCI,uCAAK,YAAK,GAAG,CAAEH,IAAI,CAACM,KAAf,CAAsB,KAAK,CAAE,CAAEC,MAAM,CAAC,MAAT,CAA7B,EAAL,GAxCJ,GAASN,KAAT,CADY,EAAX,CADH,EAXF,GADA,cA2DA,YAAK,KAAK,CAAE,CAACO,OAAO,CAAC,MAAT,CAAiBC,mBAAmB,CAAC,KAArC,CAA4CL,OAAO,CAAC,MAApD,CAAZ,uBACE,cAAM,KAAK,CAAE,CAACN,SAAS,CAAC,QAAX,CAAqBY,MAAM,CAAC,QAA5B,CAAqCN,OAAO,CAAC,MAA7C,CAAoDO,eAAe,CAAC,MAApE,CAA4EC,MAAM,CAAC,iBAAnF,CAAsGC,SAAS,CAAC,QAAhH,CAAyHC,UAAU,CAAC,MAApI,CAAb,gCAA6KzB,KAAK,CAAC0B,OAAN,CAAc,CAAd,CAA7K,SADF,EA3DA,CA8DKxB,MAAM,EAAG,CAAT,cAAc,UAAG,KAAK,CAAE,CAACmB,MAAM,CAAC,WAAR,CAAoBM,KAAK,CAAC,OAA1B,CAAkCH,SAAS,CAAC,QAA5C,CAAqDC,UAAU,CAAC,MAAhE,CAAV,oCAAd,CAA6HxB,IAAI,CAAC2B,EAAL,cAAU,eAAQ,OAAO,CACtJ,kBAAI,CACFxB,QAAQ,CAAC,UAAD,CAAR,CACF,CAHuI,CAIxI,KAAK,CAAE,CAACiB,MAAM,CAAC,WAAR,CAAqBM,KAAK,CAAC,OAA3B,CAJiI,oBAAV,cAM/H,eAAQ,OAAO,CAAE,yBAAIvB,CAAAA,QAAQ,CAAC,SAAD,CAAZ,EAAjB,CAA0C,KAAK,CAAE,CAACiB,MAAM,CAAC,WAAR,CAAoBM,KAAK,CAAC,OAA1B,CAAjD,qBApEH,GADF,CAyED,CApFM","sourcesContent":["import React from 'react';\r\nimport \"./bootstrap.css\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport {useDispatch,useSelector } from 'react-redux';\r\nimport {getNumber} from './action';\r\nimport {getPrice} from './action';\r\nimport {deleteItem} from './action';\r\nimport {plusItem} from './action';\r\nimport {availableItem} from './action';\r\nimport {minusItem} from './action';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nexport const Basket = () => {\r\n\r\n  const basket = useSelector((state) =>state.basket);\r\n  const price = useSelector((state) =>state.price);\r\n  const {user}= useSelector((state) =>state.user);\r\n  const number = useSelector((state) =>state.number);\r\n  const dispatch=useDispatch()\r\n  const navigate=useNavigate();\r\n  \r\n  localStorage.setItem(\"basket\", JSON.stringify(basket))\r\n  localStorage.setItem(\"price\", JSON.stringify(price))\r\n  return (\r\n    <div>\r\n    <Table striped bordered hover>\r\n       <thead>\r\n         <tr>\r\n           <th style={{textAlign:\"center\"}}>#</th>\r\n           <th>Name</th>\r\n           <th>Price</th>\r\n           <th>Quantity</th>\r\n           <th>Count In Stock </th>\r\n           <th> Image</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {basket.map((item, index) => (\r\n        <tr key={index}>\r\n           <td style={{textAlign:\"center\"}}> {index + 1} </td>\r\n           <td>{item.name}</td>\r\n           <td>{item.price} $</td>\r\n           <td >\r\n              <div>\r\n                {  item.countInStock > 0 && <button style={{padding:\"0 4px\"}}\r\n                    onClick={()=>{ \r\n                      \r\n                      dispatch(plusItem(basket,index));\r\n                      dispatch(availableItem(basket,index))\r\n                      dispatch(getNumber())\r\n                      dispatch(getPrice())\r\n                                         \r\n                       }}\r\n               >+</button>\r\n                }\r\n        \r\n               { item.qty>1 &&  <button style={{padding:\"0 4px\"}}\r\n                onClick={()=>{ \r\n\r\n                 \r\n                  dispatch(minusItem(basket,index));\r\n                  dispatch(availableItem(basket,index))\r\n                  dispatch(getNumber())\r\n                  dispatch(getPrice())\r\n                  ;}}\r\n               >-</button >\r\n                }\r\n              <button  style={{padding:\"0 4px\"}} onClick={()=>{\r\n                  dispatch(deleteItem(index))\r\n                  dispatch(getNumber())\r\n                  dispatch(getPrice())\r\n                  // dispatch(availableItem(basket,index))\r\n                 }}\r\n              > X </button>\r\n               <p> QTY: {item.qty}</p>\r\n              </div>\r\n            </td>\r\n            <td> {item.countInStock}</td>\r\n            <td> <img src={item.image} style={{ height:\"50px\", }}></img></td>\r\n          </tr>\r\n          ))}\r\n        </tbody>\r\n    </Table>\r\n    <div style={{display:\"grid\", gridTemplateColumns:\"1fr\" ,padding:\"20px\"}}>\r\n      <span style={{textAlign:\"center\" ,margin:\"20px 0\",padding:\"20px\",backgroundColor:\"gray\", border:\"1px solid black\", fontStyle:\"italic\",fontWeight:\"bold\"}}>   Total price is {price.toFixed(2)} $ </span>\r\n    </div>\r\n       { number ==0 ?  <p style={{margin:\"5px 100px\",float:\"right\",fontStyle:\"italic\",fontWeight:\"bold\"}}> your basket is empty </p>: user.id ? <button onClick={\r\n         ()=>{\r\n           navigate(\"./adress\");\r\n        }}\r\n        style={{margin:\"5px 100px\", float:\"right\"}}> next </button> :\r\n\r\n       <button onClick={()=>navigate(\"./login\")} style={{margin:\"5px 100px\",float:\"right\"}}> login </button>\r\n       }\r\n       </div>\r\n      )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}